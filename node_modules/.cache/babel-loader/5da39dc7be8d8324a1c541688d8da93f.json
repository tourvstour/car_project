{"ast":null,"code":"import _classCallCheck from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\react\\\\cars-app\\\\src\\\\admins\\\\SetImage.jsx\";\nimport React, { Component } from 'react';\nimport { Col, Card, message, Button } from 'antd';\nvar Meta = Card.Meta;\n\nvar Setimage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Setimage, _Component);\n\n  function Setimage() {\n    var _this;\n\n    _classCallCheck(this, Setimage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Setimage).call(this));\n\n    _this.Setimg = function (e) {\n      console.log(e);\n\n      _this.setState({\n        imgSelect: e\n      });\n    };\n\n    _this.Update = function () {\n      fetch(\"http://183.88.219.85:9091/api/update_img_index.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: _this.state.imgId,\n          imgName: _this.state.imgSelect\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        var stat = res.map(function (a) {\n          return a.stat;\n        }).toString(),\n            mess = res.map(function (a) {\n          return a.message;\n        }).toString();\n        console.log(stat);\n\n        if (stat === \"200\") {\n          message.success(mess).then(function (next) {\n            window.location.href = \"/admin\";\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      img: [],\n      imgSelect: \"\",\n      imgId: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Setimage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = window.location.search.split(\"?id=\")[1];\n      console.log(id);\n      fetch(\"http://183.88.219.85:9091/api/set_img.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: id\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        _this2.setState({\n          img: res,\n          imgId: id\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: {\n          span: \"20\",\n          offset: \"2\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Card, {\n        hoverable: true,\n        style: {\n          height: \"480px\",\n          width: \"auto\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/api/img/\".concat(this.state.imgSelect),\n        style: {\n          height: \"350px\",\n          width: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\u0E23\\u0E39\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E1B\\u0E01\"), React.createElement(Button, {\n        onClick: this.Update,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Update\")), React.createElement(Card, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.state.img.map(function (a) {\n        return React.createElement(Col, {\n          lg: {\n            span: \"4\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(Card, {\n          hoverable: true,\n          cover: React.createElement(\"img\", {\n            src: \"/api/img/\".concat(a.img_name).concat(a.img_type),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }),\n          actions: React.createElement(Button, {\n            onClick: function onClick() {\n              return _this3.Setimg(a.img_name + a.img_type);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E1B\\u0E01\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick() {\n            return _this3.Setimg(a.img_name + a.img_type);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E1B\\u0E01\")), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }));\n      }))));\n    }\n  }]);\n\n  return Setimage;\n}(Component);\n\nexport default Setimage;","map":{"version":3,"sources":["D:\\react\\cars-app\\src\\admins\\SetImage.jsx"],"names":["React","Component","Col","Card","message","Button","Meta","Setimage","Setimg","e","console","log","setState","imgSelect","Update","fetch","method","body","JSON","stringify","id","state","imgId","imgName","then","res","json","stat","map","a","toString","mess","success","next","window","location","href","img","search","split","span","offset","height","width","textAlign","img_name","img_type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Col, Card, message, Button } from 'antd'\r\n\r\nconst { Meta } = Card;\r\nclass Setimage extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            img: [],\r\n            imgSelect: \"\",\r\n            imgId: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let id = window.location.search.split(\"?id=\")[1]\r\n        console.log(id)\r\n        fetch(\"http://183.88.219.85:9091/api/set_img.php\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                id: id\r\n            })\r\n        }).then(res => res.json())\r\n            .then(res => {\r\n                this.setState({\r\n                    img: res,\r\n                    imgId: id\r\n                })\r\n            })\r\n    }\r\n\r\n    Setimg = (e) => {\r\n        console.log(e)\r\n        this.setState({\r\n            imgSelect: e\r\n        })\r\n    }\r\n\r\n    Update = () => {\r\n        fetch(\"http://183.88.219.85:9091/api/update_img_index.php\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                id: this.state.imgId,\r\n                imgName: this.state.imgSelect\r\n            })\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                let stat = res.map(a => a.stat).toString(),\r\n                    mess = res.map(a => a.message).toString()\r\n                console.log(stat)\r\n                if (stat === \"200\") {\r\n                    message.success(mess)\r\n                        .then(next => {\r\n                            window.location.href = \"/admin\"\r\n                        })\r\n                }\r\n            })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Col lg={{ span: \"20\", offset: \"2\" }}>\r\n                    <Card hoverable style={{ height: \"480px\", width: \"auto\", textAlign: \"center\" }}>\r\n                        <img src={`/api/img/${this.state.imgSelect}`} style={{ height: \"350px\", width: \"auto\" }} />\r\n                        <br />\r\n                        <br />\r\n                        <h4>รูปหน้าปก</h4>\r\n                        <Button onClick={this.Update}>Update</Button>\r\n                    </Card>\r\n                    <Card style={{ textAlign: \"center\" }}>\r\n                        {this.state.img.map(a => (\r\n                            <Col lg={{ span: \"4\" }}>\r\n                                <Card hoverable\r\n                                    cover={<img src={`/api/img/${a.img_name}${a.img_type}`} />}\r\n                                    actions={<Button onClick={() => this.Setimg(a.img_name + a.img_type)}>เลือกรูปหน้าปก</Button>}\r\n                                >\r\n                                    <Button onClick={() => this.Setimg(a.img_name + a.img_type)}>เลือกรูปหน้าปก</Button>\r\n                                </Card>\r\n                                <br />\r\n                            </Col>\r\n                        ))}\r\n                    </Card>\r\n                </Col>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Setimage;"]},"metadata":{},"sourceType":"module"}