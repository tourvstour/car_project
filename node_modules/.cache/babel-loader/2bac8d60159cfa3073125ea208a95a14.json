{"ast":null,"code":"import _toConsumableArray from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\react\\\\cars-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\react\\\\cars-app\\\\src\\\\admins\\\\AddCars.jsx\";\nimport React, { Component } from \"react\";\nimport { Form, Upload, Input, Select, Button, Icon, message } from \"antd\";\nimport { from } from \"rxjs\";\nvar Option = Select.Option;\nvar formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 5\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 12\n    }\n  }\n};\nvar Dragger = Upload.Dragger;\n\nvar AddCars =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddCars, _Component);\n\n  function AddCars() {\n    var _this;\n\n    _classCallCheck(this, AddCars);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddCars).call(this));\n\n    _this.BranCar = function (e) {\n      _this.setState({\n        brand: e\n      });\n    };\n\n    _this.Serie = function (e) {\n      _this.setState({\n        series: e\n      });\n    };\n\n    _this.serieType = function (e) {\n      _this.setState({\n        serieTypes: e\n      });\n    };\n\n    _this.serieDescription = function (e) {\n      _this.setState({\n        serieDescriptions: e\n      });\n    };\n\n    _this.Gear = function (e) {\n      _this.setState({\n        gears: e\n      });\n    };\n\n    _this.type = function (e) {\n      _this.setState({\n        types: e\n      });\n    };\n\n    _this.typeSpec = function (e) {\n      _this.setState({\n        typeSpecs: e\n      });\n    };\n\n    _this.Uploads = function (e) {\n      console.log(e.fileList);\n\n      _this.setState({\n        filesList: e\n      });\n    };\n\n    _this.Save = function () {\n      var data = [{\n        brand: _this.state.brand,\n        serie: _this.state.series,\n        serie_types: _this.state.serieTypes,\n        serie_descriptions: _this.state.serieDescriptions,\n        gear: _this.state.gears,\n        type_car: document.getElementById('typeCar').value,\n        year: document.getElementById('year').value,\n        engine: document.getElementById('engine').value,\n        seat: document.getElementById('seat').value,\n        mile: document.getElementById('mile').value,\n        color: document.getElementById('color').value,\n        price: document.getElementById('price').value\n      }];\n      data.forEach(function (element) {\n        if (element.brand === \"\" || element.serie === \"\" || element.serie_types === \"\" || element.serie_descriptions === \"\" || element.gear === \"\" || element.type_car === \"\" || element.year === \"\" || element.engine === \"\" || element.seat === \"\" || element.mile === \"\" || element.color === \"\" || element.price === \"\") {\n          console.log(\"ระบุข้อมูลให้ครบก่อนทำการบันทึก\");\n        }\n      });\n      fetch(\"http://183.88.219.85:9091/api/save_cars.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          data: data\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(res.map(function (a) {\n          return a.stat;\n        }));\n        var car_id = res.map(function (a) {\n          return a.car_id;\n        }),\n            stat = res.map(function (a) {\n          return a.stat;\n        }).toString();\n\n        if (stat === \"200\") {\n          var fileList = _this.state.fileList;\n          var formData = new FormData();\n          fileList.forEach(function (file) {\n            formData.append(\"files[]\", file);\n            formData.append(\"car_id\", car_id);\n            formData.append(\"fileName\", 'cars');\n          });\n          fetch(\"http://183.88.219.85:9091/api/save_img.php\", {\n            method: \"POST\",\n            body: formData\n          }).then(function (next) {\n            window.location.href = \"/set_img?id=\".concat(car_id);\n          });\n        } else {\n          console.log(\"aaa\");\n        }\n      });\n    };\n\n    _this.state = {\n      brandCar: [],\n      serie: [],\n      serieType: [],\n      serieDescription: [],\n      gear: [],\n      type: [],\n      typeSpec: [],\n      brand: \"\",\n      series: \"\",\n      serieTypes: \"\",\n      serieDescriptions: \"\",\n      gears: \"\",\n      types: \"\",\n      typeSpecs: \"\",\n      uploadProps: {\n        name: 'file',\n        multiple: true,\n        action: false\n      },\n      fileList: [],\n      uploading: false\n    };\n    return _this;\n  }\n\n  _createClass(AddCars, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          type: \"brandCar\"\n        })\n      }).then(function (brandCar) {\n        return brandCar.json();\n      }).then(function (brandCar) {\n        _this2.setState({\n          brandCar: brandCar\n        });\n      });\n      fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          type: \"serie\"\n        })\n      }).then(function (serie) {\n        return serie.json();\n      }).then(function (serie) {\n        _this2.setState({\n          serie: serie\n        });\n      });\n      fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          type: \"serieType\"\n        })\n      }).then(function (serieType) {\n        return serieType.json();\n      }).then(function (serieType) {\n        _this2.setState({\n          serieType: serieType\n        });\n      });\n      fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          type: \"serieDescription\"\n        })\n      }).then(function (serieDescription) {\n        return serieDescription.json();\n      }).then(function (serieDescription) {\n        _this2.setState({\n          serieDescription: serieDescription\n        });\n      });\n      fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          type: \"gear\"\n        })\n      }).then(function (gear) {\n        return gear.json();\n      }).then(function (gear) {\n        _this2.setState({\n          gear: gear\n        });\n      });\n      fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          type: \"type\"\n        })\n      }).then(function (type) {\n        return type.json();\n      }).then(function (type) {\n        _this2.setState({\n          type: type\n        });\n      });\n      fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          type: \"typeSpecs\"\n        })\n      }).then(function (typeSpec) {\n        return typeSpec.json();\n      }).then(function (typeSpec) {\n        _this2.setState({\n          typeSpec: typeSpec\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          uploading = _this$state.uploading,\n          fileList = _this$state.fileList;\n      var props = {\n        onRemove: function onRemove(file) {\n          _this3.setState(function (state) {\n            var index = state.fileList.indexOf(file);\n            var newFileList = state.fileList.slice();\n            newFileList.splice(index, 1);\n            return {\n              fileList: newFileList\n            };\n          });\n        },\n        beforeUpload: function beforeUpload(file) {\n          _this3.setState(function (state) {\n            return {\n              fileList: [].concat(_toConsumableArray(state.fileList), [file])\n            };\n          });\n\n          return false;\n        },\n        fileList: fileList\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Form, Object.assign({}, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), React.createElement(Form.Item, {\n        label: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E23\\u0E16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"typeCar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"\\u0E23\\u0E16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, this.state.type.map(function (a) {\n        return React.createElement(Option, {\n          value: a.car_type_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, a.nick_name);\n      }))), React.createElement(Form.Item, {\n        label: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E23\\u0E16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.typeSpec,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, this.state.typeSpec.map(function (a) {\n        return React.createElement(Option, {\n          value: a.car_type_spec_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, a.spec_name_th);\n      }))), React.createElement(Form.Item, {\n        label: \"\\u0E22\\u0E35\\u0E49\\u0E2B\\u0E49\\u0E2D\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.BranCar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, this.state.brandCar.map(function (a) {\n        return React.createElement(Option, {\n          value: a.product_brand_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, a.product_brand_description);\n      }))), React.createElement(Form.Item, {\n        label: \"\\u0E23\\u0E38\\u0E48\\u0E19\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.Serie,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, this.state.serie.map(function (a) {\n        return React.createElement(Option, {\n          value: a.product_serie_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, a.product_serie_description);\n      }))), React.createElement(Form.Item, {\n        label: \"\\u0E42\\u0E09\\u0E21\\u0E22\\u0E19\\u0E15\\u0E4C\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.serieType,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, this.state.serieType.map(function (a) {\n        return React.createElement(Option, {\n          value: a.product_serie_type_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, a.product_serie_type_description);\n      }))), React.createElement(Form.Item, {\n        label: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E23\\u0E38\\u0E48\\u0E19\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.serieDescription,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, this.state.serieDescription.map(function (a) {\n        return React.createElement(Option, {\n          value: a.product_serie_description_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, a.product_serie_description_description);\n      }))), React.createElement(Form.Item, {\n        label: \"\\u0E1B\\u0E35\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"year\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"\\u0E02\\u0E19\\u0E32\\u0E14\\u0E40\\u0E04\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\\u0E22\\u0E19\\u0E15\\u0E4C\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"engine\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E40\\u0E01\\u0E35\\u0E22\\u0E23\\u0E4C\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.Gear,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, this.state.gear.map(function (a) {\n        return React.createElement(Option, {\n          value: a.product_gear_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          },\n          __self: this\n        }, a.product_gear_description);\n      }))), React.createElement(Form.Item, {\n        label: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E17\\u0E35\\u0E48\\u0E19\\u0E31\\u0E48\\u0E07\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"seat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"\\u0E40\\u0E25\\u0E02\\u0E44\\u0E21\\u0E25\\u0E4C(\\u0E01\\u0E21.)\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"mile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"\\u0E2A\\u0E35\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        label: \"\\u0E23\\u0E32\\u0E04\\u0E32\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      })), React.createElement(Upload, Object.assign({}, props, {\n        listType: \"picture-card\",\n        multiple: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \"uplode\")), React.createElement(Button, {\n        onClick: this.Save,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")));\n    }\n  }]);\n\n  return AddCars;\n}(Component);\n\nexport default AddCars;","map":{"version":3,"sources":["D:\\react\\cars-app\\src\\admins\\AddCars.jsx"],"names":["React","Component","Form","Upload","Input","Select","Button","Icon","message","from","Option","formItemLayout","labelCol","xs","span","sm","wrapperCol","Dragger","AddCars","BranCar","e","setState","brand","Serie","series","serieType","serieTypes","serieDescription","serieDescriptions","Gear","gears","type","types","typeSpec","typeSpecs","Uploads","console","log","fileList","filesList","Save","data","state","serie","serie_types","serie_descriptions","gear","type_car","document","getElementById","value","year","engine","seat","mile","color","price","forEach","element","fetch","method","body","JSON","stringify","then","res","json","map","a","stat","car_id","toString","formData","FormData","file","append","next","window","location","href","brandCar","uploadProps","name","multiple","action","uploading","props","onRemove","index","indexOf","newFileList","slice","splice","beforeUpload","car_type_id","nick_name","car_type_spec_id","spec_name_th","product_brand_id","product_brand_description","product_serie_id","product_serie_description","product_serie_type_id","product_serie_type_description","product_serie_description_id","product_serie_description_description","product_gear_id","product_gear_description"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,EAAsCC,MAAtC,EAA8CC,IAA9C,EAAoDC,OAApD,QAAmE,MAAnE;AACA,SAASC,IAAT,QAAqB,MAArB;AAEA,IAAMC,MAAM,GAAGL,MAAM,CAACK,MAAtB;AACA,IAAMC,cAAc,GAAG;AACrBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,EAAE,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KADI;AAERC,IAAAA,EAAE,EAAE;AAAED,MAAAA,IAAI,EAAE;AAAR;AAFI,GADW;AAKrBE,EAAAA,UAAU,EAAE;AACVH,IAAAA,EAAE,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KADM;AAEVC,IAAAA,EAAE,EAAE;AAAED,MAAAA,IAAI,EAAE;AAAR;AAFM;AALS,CAAvB;AAUA,IAAMG,OAAO,GAAGd,MAAM,CAACc,OAAvB;;IAEMC,O;;;;;AACJ,qBAAc;AAAA;;AAAA;;AACZ;;AADY,UAiHdC,OAjHc,GAiHJ,UAACC,CAAD,EAAO;AACf,YAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAEF;AADK,OAAd;AAGD,KArHa;;AAAA,UAsHdG,KAtHc,GAsHN,UAACH,CAAD,EAAO;AACb,YAAKC,QAAL,CAAc;AACZG,QAAAA,MAAM,EAAEJ;AADI,OAAd;AAGD,KA1Ha;;AAAA,UA2HdK,SA3Hc,GA2HF,UAACL,CAAD,EAAO;AACjB,YAAKC,QAAL,CAAc;AACZK,QAAAA,UAAU,EAAEN;AADA,OAAd;AAGD,KA/Ha;;AAAA,UAgIdO,gBAhIc,GAgIK,UAACP,CAAD,EAAO;AACxB,YAAKC,QAAL,CAAc;AACZO,QAAAA,iBAAiB,EAAER;AADP,OAAd;AAGD,KApIa;;AAAA,UAqIdS,IArIc,GAqIP,UAACT,CAAD,EAAO;AACZ,YAAKC,QAAL,CAAc;AACZS,QAAAA,KAAK,EAAEV;AADK,OAAd;AAGD,KAzIa;;AAAA,UA2IdW,IA3Ic,GA2IR,UAACX,CAAD,EAAK;AACT,YAAKC,QAAL,CAAc;AACZW,QAAAA,KAAK,EAACZ;AADM,OAAd;AAGD,KA/Ia;;AAAA,UAiJda,QAjJc,GAiJL,UAACb,CAAD,EAAK;AACZ,YAAKC,QAAL,CAAc;AACZa,QAAAA,SAAS,EAACd;AADE,OAAd;AAGD,KArJa;;AAAA,UAuJde,OAvJc,GAuJJ,UAACf,CAAD,EAAO;AACfgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,CAAC,CAACkB,QAAd;;AACA,YAAKjB,QAAL,CAAc;AACZkB,QAAAA,SAAS,EAAEnB;AADC,OAAd;AAGD,KA5Ja;;AAAA,UA8JdoB,IA9Jc,GA8JP,YAAM;AACX,UAAIC,IAAI,GAAG,CAAC;AACVnB,QAAAA,KAAK,EAAE,MAAKoB,KAAL,CAAWpB,KADR;AAEVqB,QAAAA,KAAK,EAAE,MAAKD,KAAL,CAAWlB,MAFR;AAGVoB,QAAAA,WAAW,EAAE,MAAKF,KAAL,CAAWhB,UAHd;AAIVmB,QAAAA,kBAAkB,EAAE,MAAKH,KAAL,CAAWd,iBAJrB;AAKVkB,QAAAA,IAAI,EAAE,MAAKJ,KAAL,CAAWZ,KALP;AAMViB,QAAAA,QAAQ,EAAEC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KANnC;AAOVC,QAAAA,IAAI,EAAEH,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAP5B;AAQVE,QAAAA,MAAM,EAAEJ,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KARhC;AASVG,QAAAA,IAAI,EAAEL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAT5B;AAUVI,QAAAA,IAAI,EAAEN,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,KAV5B;AAWVK,QAAAA,KAAK,EAAEP,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAX9B;AAYVM,QAAAA,KAAK,EAAER,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC;AAZ9B,OAAD,CAAX;AAcAT,MAAAA,IAAI,CAACgB,OAAL,CAAa,UAAAC,OAAO,EAAI;AACtB,YAAIA,OAAO,CAACpC,KAAR,KAAkB,EAAlB,IAAwBoC,OAAO,CAACf,KAAR,KAAkB,EAA1C,IAAgDe,OAAO,CAACd,WAAR,KAAwB,EAAxE,IAA8Ec,OAAO,CAACb,kBAAR,KAA+B,EAA7G,IAAmHa,OAAO,CAACZ,IAAR,KAAiB,EAApI,IAA0IY,OAAO,CAACX,QAAR,KAAqB,EAA/J,IACCW,OAAO,CAACP,IAAR,KAAiB,EADlB,IACwBO,OAAO,CAACN,MAAR,KAAmB,EAD3C,IACiDM,OAAO,CAACL,IAAR,KAAiB,EADlE,IACwEK,OAAO,CAACJ,IAAR,KAAiB,EADzF,IAC+FI,OAAO,CAACH,KAAR,KAAkB,EADjH,IACuHG,OAAO,CAACF,KAAR,KAAkB,EAD7I,EACiJ;AAC/IpB,UAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACD;AACF,OALD;AAOAsB,MAAAA,KAAK,CAAC,6CAAD,EAAgD;AACnDC,QAAAA,MAAM,EAAE,MAD2C;AAEnDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBtB,UAAAA,IAAI,EAAEA;AADa,SAAf;AAF6C,OAAhD,CAAL,CAMGuB,IANH,CAMQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OANX,EAOGF,IAPH,CAOQ,UAAAC,GAAG,EAAI;AACX7B,QAAAA,OAAO,CAACC,GAAR,CAAY4B,GAAG,CAACE,GAAJ,CAAQ,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACC,IAAN;AAAA,SAAT,CAAZ;AACA,YAAIC,MAAM,GAAGL,GAAG,CAACE,GAAJ,CAAQ,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACE,MAAN;AAAA,SAAT,CAAb;AAAA,YACED,IAAI,GAAGJ,GAAG,CAACE,GAAJ,CAAQ,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACC,IAAN;AAAA,SAAT,EAAqBE,QAArB,EADT;;AAEA,YAAIF,IAAI,KAAK,KAAb,EAAoB;AAClB,cAAI/B,QAAQ,GAAG,MAAKI,KAAL,CAAWJ,QAA1B;AACA,cAAIkC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AAEAnC,UAAAA,QAAQ,CAACmB,OAAT,CAAiB,UAAAiB,IAAI,EAAI;AACvBF,YAAAA,QAAQ,CAACG,MAAT,CAAgB,SAAhB,EAA2BD,IAA3B;AACAF,YAAAA,QAAQ,CAACG,MAAT,CAAgB,QAAhB,EAA0BL,MAA1B;AACAE,YAAAA,QAAQ,CAACG,MAAT,CAAgB,UAAhB,EAA4B,MAA5B;AACD,WAJD;AAMAhB,UAAAA,KAAK,CAAC,4CAAD,EAA+C;AAClDC,YAAAA,MAAM,EAAE,MAD0C;AAElDC,YAAAA,IAAI,EAAEW;AAF4C,WAA/C,CAAL,CAGGR,IAHH,CAGQ,UAAAY,IAAI,EAAI;AACdC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,yBAAsCT,MAAtC;AACD,WALD;AAMD,SAhBD,MAiBK;AACHlC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACD;AACF,OA/BH;AAiCD,KArNa;;AAEZ,UAAKK,KAAL,GAAa;AACXsC,MAAAA,QAAQ,EAAE,EADC;AAEXrC,MAAAA,KAAK,EAAE,EAFI;AAGXlB,MAAAA,SAAS,EAAE,EAHA;AAIXE,MAAAA,gBAAgB,EAAE,EAJP;AAKXmB,MAAAA,IAAI,EAAE,EALK;AAMXf,MAAAA,IAAI,EAAE,EANK;AAOXE,MAAAA,QAAQ,EAAE,EAPC;AAQXX,MAAAA,KAAK,EAAE,EARI;AASXE,MAAAA,MAAM,EAAE,EATG;AAUXE,MAAAA,UAAU,EAAE,EAVD;AAWXE,MAAAA,iBAAiB,EAAE,EAXR;AAYXE,MAAAA,KAAK,EAAE,EAZI;AAaXE,MAAAA,KAAK,EAAE,EAbI;AAcXE,MAAAA,SAAS,EAAE,EAdA;AAeX+C,MAAAA,WAAW,EAAE;AACXC,QAAAA,IAAI,EAAE,MADK;AAEXC,QAAAA,QAAQ,EAAE,IAFC;AAGXC,QAAAA,MAAM,EAAE;AAHG,OAfF;AAoBX9C,MAAAA,QAAQ,EAAE,EApBC;AAqBX+C,MAAAA,SAAS,EAAE;AArBA,KAAb;AAFY;AAyBb;;;;wCACmB;AAAA;;AAClB1B,MAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBhC,UAAAA,IAAI,EAAE;AADa,SAAf;AAF+C,OAAlD,CAAL,CAMGiC,IANH,CAMQ,UAAAgB,QAAQ;AAAA,eAAIA,QAAQ,CAACd,IAAT,EAAJ;AAAA,OANhB,EAOGF,IAPH,CAOQ,UAAAgB,QAAQ,EAAI;AAChB,QAAA,MAAI,CAAC3D,QAAL,CAAc;AACZ2D,UAAAA,QAAQ,EAAEA;AADE,SAAd;AAGD,OAXH;AAYArB,MAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBhC,UAAAA,IAAI,EAAE;AADa,SAAf;AAF+C,OAAlD,CAAL,CAMGiC,IANH,CAMQ,UAAArB,KAAK;AAAA,eAAIA,KAAK,CAACuB,IAAN,EAAJ;AAAA,OANb,EAOGF,IAPH,CAOQ,UAAArB,KAAK,EAAI;AACb,QAAA,MAAI,CAACtB,QAAL,CAAc;AACZsB,UAAAA,KAAK,EAAEA;AADK,SAAd;AAGD,OAXH;AAYAgB,MAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBhC,UAAAA,IAAI,EAAE;AADa,SAAf;AAF+C,OAAlD,CAAL,CAMGiC,IANH,CAMQ,UAAAvC,SAAS;AAAA,eAAIA,SAAS,CAACyC,IAAV,EAAJ;AAAA,OANjB,EAOGF,IAPH,CAOQ,UAAAvC,SAAS,EAAI;AACjB,QAAA,MAAI,CAACJ,QAAL,CAAc;AACZI,UAAAA,SAAS,EAAEA;AADC,SAAd;AAGD,OAXH;AAYAkC,MAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBhC,UAAAA,IAAI,EAAE;AADa,SAAf;AAF+C,OAAlD,CAAL,CAMGiC,IANH,CAMQ,UAAArC,gBAAgB;AAAA,eAAIA,gBAAgB,CAACuC,IAAjB,EAAJ;AAAA,OANxB,EAOGF,IAPH,CAOQ,UAAArC,gBAAgB,EAAI;AACxB,QAAA,MAAI,CAACN,QAAL,CAAc;AACZM,UAAAA,gBAAgB,EAAEA;AADN,SAAd;AAGD,OAXH;AAYAgC,MAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBhC,UAAAA,IAAI,EAAE;AADa,SAAf;AAF+C,OAAlD,CAAL,CAMGiC,IANH,CAMQ,UAAAlB,IAAI;AAAA,eAAIA,IAAI,CAACoB,IAAL,EAAJ;AAAA,OANZ,EAOGF,IAPH,CAOQ,UAAAlB,IAAI,EAAI;AACZ,QAAA,MAAI,CAACzB,QAAL,CAAc;AACZyB,UAAAA,IAAI,EAAEA;AADM,SAAd;AAGD,OAXH;AAYAa,MAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBhC,UAAAA,IAAI,EAAE;AADa,SAAf;AAF+C,OAAlD,CAAL,CAMGiC,IANH,CAMQ,UAAAjC,IAAI;AAAA,eAAIA,IAAI,CAACmC,IAAL,EAAJ;AAAA,OANZ,EAOGF,IAPH,CAOQ,UAAAjC,IAAI,EAAI;AACZ,QAAA,MAAI,CAACV,QAAL,CAAc;AACZU,UAAAA,IAAI,EAAEA;AADM,SAAd;AAGD,OAXH;AAYA4B,MAAAA,KAAK,CAAC,+CAAD,EAAkD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBhC,UAAAA,IAAI,EAAE;AADa,SAAf;AAF+C,OAAlD,CAAL,CAMGiC,IANH,CAMQ,UAAA/B,QAAQ;AAAA,eAAIA,QAAQ,CAACiC,IAAT,EAAJ;AAAA,OANhB,EAOGF,IAPH,CAOQ,UAAA/B,QAAQ,EAAI;AAChB,QAAA,MAAI,CAACZ,QAAL,CAAc;AACZY,UAAAA,QAAQ,EAAEA;AADE,SAAd;AAGD,OAXH;AAYD;;;6BAwGQ;AAAA;;AAAA,wBACyB,KAAKS,KAD9B;AAAA,UACC2C,SADD,eACCA,SADD;AAAA,UACY/C,QADZ,eACYA,QADZ;AAEP,UAAMgD,KAAK,GAAG;AACZC,QAAAA,QAAQ,EAAE,kBAAAb,IAAI,EAAI;AAChB,UAAA,MAAI,CAACrD,QAAL,CAAc,UAAAqB,KAAK,EAAI;AACrB,gBAAM8C,KAAK,GAAG9C,KAAK,CAACJ,QAAN,CAAemD,OAAf,CAAuBf,IAAvB,CAAd;AACA,gBAAMgB,WAAW,GAAGhD,KAAK,CAACJ,QAAN,CAAeqD,KAAf,EAApB;AACAD,YAAAA,WAAW,CAACE,MAAZ,CAAmBJ,KAAnB,EAA0B,CAA1B;AACA,mBAAO;AACLlD,cAAAA,QAAQ,EAAEoD;AADL,aAAP;AAGD,WAPD;AAQD,SAVW;AAWZG,QAAAA,YAAY,EAAE,sBAAAnB,IAAI,EAAI;AACpB,UAAA,MAAI,CAACrD,QAAL,CAAc,UAAAqB,KAAK;AAAA,mBAAK;AACtBJ,cAAAA,QAAQ,+BAAMI,KAAK,CAACJ,QAAZ,IAAsBoC,IAAtB;AADc,aAAL;AAAA,WAAnB;;AAGA,iBAAO,KAAP;AACD,SAhBW;AAiBZpC,QAAAA,QAAQ,EAARA;AAjBY,OAAd;AAmBA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD,oBAAU3B,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,0EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAKoB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKW,KAAL,CAAWX,IAAX,CAAgBoC,GAAhB,CAAoB,UAAAC,CAAC;AAAA,eACpB,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEA,CAAC,CAAC0B,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA+B1B,CAAC,CAAC2B,SAAjC,CADoB;AAAA,OAArB,CADH,CADF,CAJF,EAWE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,kDAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAK9D,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKS,KAAL,CAAWT,QAAX,CAAoBkC,GAApB,CAAwB,UAAAC,CAAC;AAAA,eACxB,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEA,CAAC,CAAC4B,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoC5B,CAAC,CAAC6B,YAAtC,CADwB;AAAA,OAAzB,CADH,CADF,CAXF,EAkBE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,sCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAK9E,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKuB,KAAL,CAAWsC,QAAX,CAAoBb,GAApB,CAAwB,UAAAC,CAAC;AAAA,eACxB,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEA,CAAC,CAAC8B,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoC9B,CAAC,CAAC+B,yBAAtC,CADwB;AAAA,OAAzB,CADH,CADF,CAlBF,EAyBE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,0BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAK5E,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKmB,KAAL,CAAWC,KAAX,CAAiBwB,GAAjB,CAAqB,UAAAC,CAAC;AAAA,eACrB,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEA,CAAC,CAACgC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoChC,CAAC,CAACiC,yBAAtC,CADqB;AAAA,OAAtB,CADH,CADF,CAzBF,EAgCE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,4CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAK5E,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKiB,KAAL,CAAWjB,SAAX,CAAqB0C,GAArB,CAAyB,UAAAC,CAAC;AAAA,eACzB,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEA,CAAC,CAACkC,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyClC,CAAC,CAACmC,8BAA3C,CADyB;AAAA,OAA1B,CADH,CADF,CAhCF,EAuCE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,sFAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAK5E,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKe,KAAL,CAAWf,gBAAX,CAA4BwC,GAA5B,CAAgC,UAAAC,CAAC;AAAA,eAChC,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEA,CAAC,CAACoC,4BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgDpC,CAAC,CAACqC,qCAAlD,CADgC;AAAA,OAAjC,CADH,CADF,CAvCF,EA8CE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CA9CF,EAiDE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,4FAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAjDF,EAoDE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,8DAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAK5E,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKa,KAAL,CAAWI,IAAX,CAAgBqB,GAAhB,CAAoB,UAAAC,CAAC;AAAA,eACpB,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEA,CAAC,CAACsC,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmCtC,CAAC,CAACuC,wBAArC,CADoB;AAAA,OAArB,CADH,CADF,CApDF,EA2DE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,0EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CA3DF,EA8DE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,2DAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CA9DF,EAiEE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAjEF,EAoEE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,0BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,EAAE,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CApEF,EAuEE,oBAAC,MAAD,oBACMrB,KADN;AAEE,QAAA,QAAQ,EAAC,cAFX;AAGE,QAAA,QAAQ,EAAC,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAKE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,CAvEF,EA8EE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAK9C,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDA9EF,CADF,CADF;AAoFD;;;;EAjUmBvC,S;;AAoUtB,eAAeiB,OAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Form, Upload, Input, Select, Button, Icon, message } from \"antd\";\r\nimport { from } from \"rxjs\";\r\n\r\nconst Option = Select.Option;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 5 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 12 }\r\n  }\r\n};\r\nconst Dragger = Upload.Dragger;\r\n\r\nclass AddCars extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      brandCar: [],\r\n      serie: [],\r\n      serieType: [],\r\n      serieDescription: [],\r\n      gear: [],\r\n      type: [],\r\n      typeSpec: [],\r\n      brand: \"\",\r\n      series: \"\",\r\n      serieTypes: \"\",\r\n      serieDescriptions: \"\",\r\n      gears: \"\",\r\n      types: \"\",\r\n      typeSpecs: \"\",\r\n      uploadProps: {\r\n        name: 'file',\r\n        multiple: true,\r\n        action: false\r\n      },\r\n      fileList: [],\r\n      uploading: false\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"brandCar\"\r\n      })\r\n    })\r\n      .then(brandCar => brandCar.json())\r\n      .then(brandCar => {\r\n        this.setState({\r\n          brandCar: brandCar\r\n        })\r\n      })\r\n    fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"serie\"\r\n      })\r\n    })\r\n      .then(serie => serie.json())\r\n      .then(serie => {\r\n        this.setState({\r\n          serie: serie\r\n        })\r\n      })\r\n    fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"serieType\"\r\n      })\r\n    })\r\n      .then(serieType => serieType.json())\r\n      .then(serieType => {\r\n        this.setState({\r\n          serieType: serieType\r\n        })\r\n      })\r\n    fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"serieDescription\"\r\n      })\r\n    })\r\n      .then(serieDescription => serieDescription.json())\r\n      .then(serieDescription => {\r\n        this.setState({\r\n          serieDescription: serieDescription\r\n        })\r\n      })\r\n    fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"gear\"\r\n      })\r\n    })\r\n      .then(gear => gear.json())\r\n      .then(gear => {\r\n        this.setState({\r\n          gear: gear\r\n        })\r\n      })\r\n    fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"type\"\r\n      })\r\n    })\r\n      .then(type => type.json())\r\n      .then(type => {\r\n        this.setState({\r\n          type: type\r\n        })\r\n      })\r\n    fetch(\"http://183.88.219.85:9091/api/topic_admin.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"typeSpecs\"\r\n      })\r\n    })\r\n      .then(typeSpec => typeSpec.json())\r\n      .then(typeSpec => {\r\n        this.setState({\r\n          typeSpec: typeSpec\r\n        })\r\n      })\r\n  }\r\n\r\n  BranCar = (e) => {\r\n    this.setState({\r\n      brand: e\r\n    })\r\n  }\r\n  Serie = (e) => {\r\n    this.setState({\r\n      series: e\r\n    })\r\n  }\r\n  serieType = (e) => {\r\n    this.setState({\r\n      serieTypes: e\r\n    })\r\n  }\r\n  serieDescription = (e) => {\r\n    this.setState({\r\n      serieDescriptions: e\r\n    })\r\n  }\r\n  Gear = (e) => {\r\n    this.setState({\r\n      gears: e\r\n    })\r\n  }\r\n\r\n  type =(e)=>{\r\n    this.setState({\r\n      types:e\r\n    })\r\n  }\r\n\r\n  typeSpec=(e)=>{\r\n    this.setState({\r\n      typeSpecs:e\r\n    })\r\n  }\r\n\r\n  Uploads = (e) => {\r\n    console.log(e.fileList)\r\n    this.setState({\r\n      filesList: e\r\n    })\r\n  }\r\n\r\n  Save = () => {\r\n    let data = [{\r\n      brand: this.state.brand,\r\n      serie: this.state.series,\r\n      serie_types: this.state.serieTypes,\r\n      serie_descriptions: this.state.serieDescriptions,\r\n      gear: this.state.gears,\r\n      type_car: document.getElementById('typeCar').value,\r\n      year: document.getElementById('year').value,\r\n      engine: document.getElementById('engine').value,\r\n      seat: document.getElementById('seat').value,\r\n      mile: document.getElementById('mile').value,\r\n      color: document.getElementById('color').value,\r\n      price: document.getElementById('price').value\r\n    }]\r\n    data.forEach(element => {\r\n      if (element.brand === \"\" || element.serie === \"\" || element.serie_types === \"\" || element.serie_descriptions === \"\" || element.gear === \"\" || element.type_car === \"\"\r\n        || element.year === \"\" || element.engine === \"\" || element.seat === \"\" || element.mile === \"\" || element.color === \"\" || element.price === \"\") {\r\n        console.log(\"ระบุข้อมูลให้ครบก่อนทำการบันทึก\")\r\n      }\r\n    });\r\n\r\n    fetch(\"http://183.88.219.85:9091/api/save_cars.php\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        data: data\r\n      })\r\n    })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        console.log(res.map(a => a.stat))\r\n        let car_id = res.map(a => a.car_id),\r\n          stat = res.map(a => a.stat).toString()\r\n        if (stat === \"200\") {\r\n          let fileList = this.state.fileList\r\n          let formData = new FormData()\r\n\r\n          fileList.forEach(file => {\r\n            formData.append(\"files[]\", file)\r\n            formData.append(\"car_id\", car_id)\r\n            formData.append(\"fileName\", 'cars')\r\n          })\r\n\r\n          fetch(\"http://183.88.219.85:9091/api/save_img.php\", {\r\n            method: \"POST\",\r\n            body: formData\r\n          }).then(next => {\r\n            window.location.href = `/set_img?id=${car_id}`\r\n          })\r\n        }\r\n        else {\r\n          console.log(\"aaa\")\r\n        }\r\n      })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { uploading, fileList } = this.state;\r\n    const props = {\r\n      onRemove: file => {\r\n        this.setState(state => {\r\n          const index = state.fileList.indexOf(file);\r\n          const newFileList = state.fileList.slice();\r\n          newFileList.splice(index, 1);\r\n          return {\r\n            fileList: newFileList\r\n          };\r\n        });\r\n      },\r\n      beforeUpload: file => {\r\n        this.setState(state => ({\r\n          fileList: [...state.fileList, file]\r\n        }));\r\n        return false;\r\n      },\r\n      fileList\r\n    };\r\n    return (\r\n      <div>\r\n        <Form {...formItemLayout} >\r\n          <Form.Item label=\"รายละเอียดรถ\">\r\n            <Input id=\"typeCar\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"รถ\">\r\n            <Select onChange={this.type}>\r\n              {this.state.type.map(a => (\r\n                <Option value={a.car_type_id}>{a.nick_name}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"ประเภทรถ\">\r\n            <Select onChange={this.typeSpec}>\r\n              {this.state.typeSpec.map(a => (\r\n                <Option value={a.car_type_spec_id}>{a.spec_name_th}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"ยี้ห้อ\">\r\n            <Select onChange={this.BranCar}>\r\n              {this.state.brandCar.map(a => (\r\n                <Option value={a.product_brand_id}>{a.product_brand_description}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"รุ่น\" >\r\n            <Select onChange={this.Serie}>\r\n              {this.state.serie.map(a => (\r\n                <Option value={a.product_serie_id}>{a.product_serie_description}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"โฉมยนต์\">\r\n            <Select onChange={this.serieType}>\r\n              {this.state.serieType.map(a => (\r\n                <Option value={a.product_serie_type_id}>{a.product_serie_type_description}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"รายละเอียดรุ่น\">\r\n            <Select onChange={this.serieDescription}>\r\n              {this.state.serieDescription.map(a => (\r\n                <Option value={a.product_serie_description_id}>{a.product_serie_description_description}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"ปี\">\r\n            <Input id=\"year\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"ขนาดเครื่องยนต์\">\r\n            <Input id=\"engine\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"ระบบเกียร์\">\r\n            <Select onChange={this.Gear}>\r\n              {this.state.gear.map(a => (\r\n                <Option value={a.product_gear_id}>{a.product_gear_description}</Option>\r\n              ))}\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"จำนวนที่นั่ง\">\r\n            <Input id=\"seat\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"เลขไมล์(กม.)\">\r\n            <Input id=\"mile\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"สี\">\r\n            <Input id=\"color\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"ราคา\">\r\n            <Input id=\"price\" />\r\n          </Form.Item>\r\n          <Upload\r\n            {...props}\r\n            listType=\"picture-card\"\r\n            multiple=\"true\"\r\n          >\r\n            <Button>uplode</Button>\r\n          </Upload>\r\n          <Button onClick={this.Save}>บันทึก</Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddCars;\r\n"]},"metadata":{},"sourceType":"module"}